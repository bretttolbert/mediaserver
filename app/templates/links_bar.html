<table class="no-border w-100 links-bar">
    <tr>
        <td><a href="/albums/index">albums</a></td>
        <td><a href="/artists/index">artists</a></td>
        <td><a href="/genres/index">genres</a></td>
        <td><a href="/player/index">player</a></td>
        {% if PLAYBACK_METHOD_LOCAL_ENABLED %}
        <td><a href="/name-that-tune/index"><i>name that tune</i></a></td>
        {% endif %}
        <td><a href="/tracks/index">tracks</a></td>

        {% if request.args.getlist('year')|length > 0 %}
            {% set year = request.args.get('year') | int %}
            {% set year_prev = year - 1 %}
            {% set year_next = year + 1 %}
            {% set ns = namespace(other_args="") %}
            {% for key, value in request.args.items() %}
                {% if key != "year" %}
                    {% set ns.other_args = ns.other_args ~ "&" ~ key ~ "=" ~ value %}
                {% endif %}
            {% endfor %}
            <td><a href="{{ url_for(request.endpoint, **request.view_args) }}?year={{ year_prev }}{{ ns.other_args }}">{{ year_prev }}</a></td>
            <td><b><a href="{{ url_for(request.endpoint, **request.view_args) }}?year={{ year }}{{ ns.other_args }}">{{ year }} </a></b></td>
            <td><a href="{{ url_for(request.endpoint, **request.view_args) }}?year={{ year_next }}{{ ns.other_args }}">{{ year_next }}</a></td>
        {% endif %}
    </tr>
</table>
